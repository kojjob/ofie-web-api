<!-- Fullscreen Gallery Modal -->
<div class="fixed inset-0 bg-black bg-opacity-90 z-50 hidden" 
     data-gallery-target="fullscreenModal"
     data-action="click->gallery#closeFullscreen keydown->gallery#handleFullscreenKeydown">
  
  <!-- Close Button -->
  <button class="absolute top-4 right-4 w-12 h-12 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded transition-all duration-200 flex items-center justify-center z-10"
          data-action="click->gallery#closeFullscreen"
          aria-label="Close fullscreen view">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
    </svg>
  </button>
  
  <!-- Fullscreen Image Container -->
  <div class="w-full h-full flex items-center justify-center p-4">
    <div class="max-w-7xl max-h-full w-full h-full flex items-center justify-center relative">
      
      <!-- Fullscreen Slides -->
      <% if @property.photos.attached? && @property.photos.any? %>
        <% @property.photos.each_with_index do |image, index| %>
          <div class="<%= index == 0 ? 'block' : 'hidden' %> w-full h-full flex items-center justify-center" 
               data-gallery-target="fullscreenSlide" 
               data-slide-index="<%= index %>">
            <%= image_tag image,
                         class: "max-w-full max-h-full object-contain",
                         alt: "#{@property.title} - Image #{index + 1} (Fullscreen)" %>
          </div>
        <% end %>
      <% end %>
      
      <!-- Fullscreen Navigation -->
      <% if @property.photos.attached? && @property.photos.any? && @property.photos.count > 1 %>
        <button class="absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded transition-all duration-200 flex items-center justify-center"
                data-action="click->gallery#previousSlideFullscreen"
                aria-label="Previous image">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
        </button>

        <button class="absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded transition-all duration-200 flex items-center justify-center"
                data-action="click->gallery#nextSlideFullscreen"
                aria-label="Next image">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </button>
      <% end %>
      
      <!-- Fullscreen Counter -->
      <% if @property.photos.attached? && @property.photos.any? && @property.photos.count > 1 %>
        <div class="absolute bottom-4 right-4 bg-black bg-opacity-50 text-white px-4 py-2 rounded">
          <span data-gallery-target="fullscreenCounter">1</span> / <%= @property.photos.count %>
        </div>
      <% end %>
    </div>
  </div>
  
  <!-- Keyboard Instructions -->
  <div class="absolute bottom-4 left-4 bg-black bg-opacity-50 text-white px-4 py-2 rounded text-sm">
    <div class="flex items-center space-x-4">
      <span>← → Navigate</span>
      <span>ESC Close</span>
    </div>
  </div>
</div>
